<div >
  <mat-card >
    <mat-card-header>
        <mat-card-title>Detailed View</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <section class="example-section" fxLayout="row" fxLayout.lt-md="column" fxFlex fxLayoutGap="20px">
          <!-- <span class="no-margin"><mat-icon >search</mat-icon></span> -->
          <mat-form-field fxFlex class="">
            <input matInput disabled [max]="maxToDate" [matDatepicker]="pickerFrom" placeholder="Choose a from date" formControlName="fromDate">
            <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
            <mat-datepicker disabled="false" #pickerFrom></mat-datepicker>
          </mat-form-field>
          <mat-form-field fxFlex class="">
            <input matInput disabled [max]="maxToDate" [matDatepicker]="pickerTo" placeholder="Choose a to date" formControlName="toDate">
            <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
            <mat-datepicker disabled="false" #pickerTo></mat-datepicker>
          </mat-form-field>  
          <div>
            <button type="submit" mat-raised-button color="primary" >Search</button>      
          </div>
        </section> 
      </form>

      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
        <!-- <tr *ngFor="let row of paymentList">
          <td >{{row.pdate}}</td>
          <td >{{row.route}}</td>
          <td >{{row.amount}}</td>
          <td ><tr *ngFor="let v of row.users">
            <td>{{v.uname}}</td>
            <td>{{v.amount}}</td>
          </tr></td>
        </tr> -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef> Date </th>
          <td mat-cell *matCellDef="let element"> {{element.pdate}} </td>
        </ng-container>
        <ng-container matColumnDef="route">
          <th mat-header-cell *matHeaderCellDef> Route </th>
          <td mat-cell *matCellDef="let element"> {{element.route}} </td>
        </ng-container>
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef> Amount </th>
          <td mat-cell *matCellDef="let element"> {{element.amount}} </td>
        </ng-container>
        <ng-container matColumnDef="users">
          <th mat-header-cell *matHeaderCellDef> Users </th>
          <td mat-cell *matCellDef="let element"> <span class="block" *ngFor="let v of element.users">{{v.uname}}: {{v.amount}}</span> </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>